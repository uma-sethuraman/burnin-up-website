version: 1
frontend:
  phases:
    # IMPORTANT - Please verify your build commands
    build:
      commands: 
        - yum install -y sudo
        - sudo amazon-linux-extras install docker
        - sudo systemctl enable docker
        - sudo systemctl start docker
        - sudo usermod -a -G docker ec2-user
        - sudo chkconfig docker on
        - sudo yum install -y git
        - sudo reboot
        - sudo curl -L https://github.com/docker/compose/releases/download/1.22.0/docker-compose-$(uname -s)-$(uname -m) -o /usr/local/bin/docker-compose
        - sudo chmod +x /usr/local/bin/docker-compose
        - docker-compose version
        # - apk add python python-dev py-pip build-base curl
        # - curl -L https://github.com/docker/compose/releases/download/1.14.0/docker-compose-`uname -s`-`uname -m` > /usr/local/bin/docker-compose
        # - chmod +x /usr/local/bin/docker-compose
        # - pip install docker-compose
        # - docker-compose up --build --force-recreate
        # - yum update -y
        # - yum install systemd-sysv
        # - amazon-linux-extras install docker
        # - groupadd docker
        # - gpasswd -a ${USER} docker
        # - usermod -aG docker $USER
        # - su - $USER
        # - systemctl start httpd.service
        # - systemctl enable docker
        # - systemctl start docker 
        # - docker pull caitlinlien/burninup:latest
        # - docker run --privileged -p 5000:5000 caitlinlien/burninup:latest


  artifacts:
    # IMPORTANT - Please verify your build output directory
    baseDirectory: ./frontend/build
    files:
      - '**/*'
  cache:
    paths: []
